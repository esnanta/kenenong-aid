import{g as P,h as A,j as s,H as I,C as k,a as L,b as H,e as R,d as T,B as q,L as B,i as D,t as j}from"./app-BLAu0s-k.js";import{u as _,a as K,o as M,s as o}from"./schemas-BlBNX1Er.js";import{I as m}from"./input-DhAMWrKR.js";import{L as l}from"./label-7NtcvhHA.js";import{A as O}from"./AuthLayout-DNT1o66I.js";const V=M({fullName:o().min(2,"Full name must be at least 2 characters"),email:o().email("Invalid email address"),password:o().min(6,"Password must be at least 6 characters"),passwordConfirm:o()}).refine(a=>a.password===a.passwordConfirm,{message:"Passwords don't match",path:["passwordConfirm"]});function Q({model:a,errors:y}){var u,p,f,x;const{props:d}=P(),r=A({fullName:(a==null?void 0:a.fullName)||"",email:(a==null?void 0:a.email)||"",password:"",passwordConfirm:""}),{register:i,handleSubmit:C,formState:{errors:b,isSubmitting:t}}=_({resolver:K(V),defaultValues:{fullName:(a==null?void 0:a.fullName)||"",email:(a==null?void 0:a.email)||"",password:"",passwordConfirm:""}}),v=n=>{var w,g;const h=d.csrfToken||((w=document.querySelector('meta[name="csrf-token"]'))==null?void 0:w.getAttribute("content")),N=d.csrfParam||((g=document.querySelector('meta[name="csrf-param"]'))==null?void 0:g.getAttribute("content")),F={name:n.fullName,email:n.email,password:n.password,...h&&N?{[N]:h}:{}};D.post("/auth/register",F,{onError:S=>{Object.values(S).forEach(c=>{Array.isArray(c)?c.forEach(E=>j.error(E)):j.error(c)})}})},e={...b,...y};return s.jsxs(s.Fragment,{children:[s.jsx(I,{title:"Register | Yii2 - Modern Starter Kit"}),s.jsx(O,{children:s.jsxs(k,{className:"border-0 shadow-none px-6",children:[s.jsxs(L,{className:"space-y-1 px-0",children:[s.jsx(H,{className:"text-2xl font-semibold tracking-tight",children:"Create an account"}),s.jsx(R,{className:"text-base",children:"Enter your information to get started"})]}),s.jsxs(T,{className:"px-0",children:[s.jsxs("form",{onSubmit:C(v),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name"}),s.jsx(m,{id:"fullName",type:"text",...i("fullName"),className:e.fullName?"border-destructive":"",disabled:t||r.processing,autoFocus:!0,placeholder:"Enter your full name"}),e.fullName&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.fullName=="string"?e.fullName:((u=e.fullName)==null?void 0:u.message)||"Invalid full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),s.jsx(m,{id:"email",type:"email",...i("email"),className:e.email?"border-destructive":"",disabled:t||r.processing,placeholder:"Enter your email"}),e.email&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.email=="string"?e.email:((p=e.email)==null?void 0:p.message)||"Invalid email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),s.jsx(m,{id:"password",type:"password",...i("password"),className:e.password?"border-destructive":"",disabled:t||r.processing,placeholder:"Create a password"}),e.password&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.password=="string"?e.password:((f=e.password)==null?void 0:f.message)||"Invalid password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"passwordConfirm",className:"text-sm font-medium",children:"Confirm Password"}),s.jsx(m,{id:"passwordConfirm",type:"password",...i("passwordConfirm"),className:e.passwordConfirm?"border-destructive":"",disabled:t||r.processing,placeholder:"Confirm your password"}),e.passwordConfirm&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.passwordConfirm=="string"?e.passwordConfirm:((x=e.passwordConfirm)==null?void 0:x.message)||"Passwords do not match"})]}),s.jsx(q,{type:"submit",variant:"default",className:"w-full",disabled:t||r.processing,children:t||r.processing?"Creating account...":"Create account"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(B,{href:"/auth/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})})]})}export{Q as default};
