import{g as b,j as s,C as y,a as v,b as E,e as F,d as S,B as I,L as A,t as h}from"./app-Bl_wJ_hE.js";import{u as L,a as P,o as k,s as n}from"./schemas-D9Z4gvzi.js";import{L as m,I as o}from"./label-BvEf3wqG.js";import{A as B}from"./AuthLayout-Dn3cS2-K.js";import"./rocket-DnruQECC.js";const R=k({username:n().min(3,"Username must be at least 3 characters"),email:n().email("Invalid email address"),password:n().min(6,"Password must be at least 6 characters"),passwordConfirm:n()}).refine(a=>a.password===a.passwordConfirm,{message:"Passwords don't match",path:["passwordConfirm"]});function V({model:a,errors:f}){var l,p,u,x;const r=b({username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",password:"",passwordConfirm:""}),{register:i,handleSubmit:w,formState:{errors:j,isSubmitting:t}}=L({resolver:P(R),defaultValues:{username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",password:"",passwordConfirm:""}}),g=d=>{r.post("/auth/register",{data:{username:d.username,email:d.email,password:d.password},onError:C=>{Object.values(C).forEach(c=>{Array.isArray(c)?c.forEach(N=>h.error(N)):h.error(c)})}})},e={...j,...f};return s.jsx(B,{children:s.jsxs(y,{className:"border-0 shadow-none",children:[s.jsxs(v,{className:"space-y-1 px-0",children:[s.jsx(E,{className:"text-2xl font-semibold tracking-tight",children:"Create an account"}),s.jsx(F,{className:"text-base",children:"Enter your information to get started"})]}),s.jsxs(S,{className:"px-0",children:[s.jsxs("form",{onSubmit:w(g),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),s.jsx(o,{id:"username",type:"text",...i("username"),className:e.username?"border-destructive":"",disabled:t||r.processing,autoFocus:!0,placeholder:"Choose a username"}),e.username&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.username=="string"?e.username:((l=e.username)==null?void 0:l.message)||"Invalid username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),s.jsx(o,{id:"email",type:"email",...i("email"),className:e.email?"border-destructive":"",disabled:t||r.processing,placeholder:"Enter your email"}),e.email&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.email=="string"?e.email:((p=e.email)==null?void 0:p.message)||"Invalid email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),s.jsx(o,{id:"password",type:"password",...i("password"),className:e.password?"border-destructive":"",disabled:t||r.processing,placeholder:"Create a password"}),e.password&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.password=="string"?e.password:((u=e.password)==null?void 0:u.message)||"Invalid password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"passwordConfirm",className:"text-sm font-medium",children:"Confirm Password"}),s.jsx(o,{id:"passwordConfirm",type:"password",...i("passwordConfirm"),className:e.passwordConfirm?"border-destructive":"",disabled:t||r.processing,placeholder:"Confirm your password"}),e.passwordConfirm&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:typeof e.passwordConfirm=="string"?e.passwordConfirm:((x=e.passwordConfirm)==null?void 0:x.message)||"Passwords do not match"})]}),s.jsx(I,{type:"submit",variant:"default",className:"w-full",disabled:t||r.processing,children:t||r.processing?"Creating account...":"Create account"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(A,{href:"/auth/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})})}export{V as default};
