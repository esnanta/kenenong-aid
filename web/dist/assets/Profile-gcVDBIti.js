import{g as j,j as e,C as u,a as g,b,e as y,d as v,B as S,t as n}from"./app-Bl_wJ_hE.js";import{D as C}from"./DashboardLayout-BIrPOosd.js";import{L as l,I as o}from"./label-BvEf3wqG.js";import{u as N,a as E,o as F,s as c}from"./schemas-D9Z4gvzi.js";import"./index-CjnoExKc.js";import"./ThemeToggle-e3zY5wbL.js";import"./index-Br0iUmKJ.js";const I=F({username:c().min(3,"Username must be at least 3 characters"),email:c().email("Invalid email address")});function H({user:s}){const a=j({username:(s==null?void 0:s.username)||"",email:(s==null?void 0:s.email)||""}),{register:m,handleSubmit:d,formState:{errors:i,isSubmitting:r}}=N({resolver:E(I),defaultValues:{username:(s==null?void 0:s.username)||"",email:(s==null?void 0:s.email)||""}}),p=h=>{a.put("/dashboard/profile",{data:h,onSuccess:()=>{n.success("Profile updated successfully")},onError:x=>{Object.values(x).forEach(t=>{Array.isArray(t)?t.forEach(f=>n.error(f)):n.error(t)})}})};return e.jsx(C,{user:s,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),e.jsxs(u,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Profile Information"}),e.jsx(y,{children:"Update your account's profile information"})]}),e.jsx(v,{children:e.jsxs("form",{onSubmit:d(p),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"username",children:"Username"}),e.jsx(o,{id:"username",...m("username"),disabled:r||a.processing}),i.username&&e.jsx("p",{className:"text-sm text-destructive",children:i.username.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",...m("email"),disabled:r||a.processing}),i.email&&e.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),e.jsx(S,{type:"submit",disabled:r||a.processing,children:r||a.processing?"Saving...":"Save Changes"})]})})]})]})})}export{H as default};
