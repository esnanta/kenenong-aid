import{g as j,h as y,j as s,H as C,C as g,a as N,b,e as v,d as P,B as k,L as E,t as o,i as F}from"./app-BLAu0s-k.js";import{I as d}from"./input-DhAMWrKR.js";import{L as n}from"./label-7NtcvhHA.js";import{A as R}from"./AuthLayout-DNT1o66I.js";function B({token:p}){const{props:i}=j(),{data:a,setData:t,post:q,processing:r}=y({token:p||"",email:"",password:"",passwordConfirm:""}),f=e=>{var c,u;if(e.preventDefault(),a.password!==a.passwordConfirm){o.error("Passwords do not match");return}const l=i.csrfToken||((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content")),m=i.csrfParam||((u=document.querySelector('meta[name="csrf-param"]'))==null?void 0:u.getAttribute("content")),h={...a,...l&&m?{[m]:l}:{}};F.post("/auth/reset-password",h,{onSuccess:()=>{o.success("Password reset successfully")},onError:x=>{Object.values(x).forEach(w=>{o.error(w)})}})};return s.jsxs(s.Fragment,{children:[s.jsx(C,{title:"Reset Password | Yii2 - Modern Starter Kit"}),s.jsx(R,{children:s.jsxs(g,{className:"border-0 shadow-none",children:[s.jsxs(N,{className:"space-y-1 px-0",children:[s.jsx(b,{className:"text-2xl font-semibold tracking-tight",children:"Reset password"}),s.jsx(v,{className:"text-base",children:"Enter your new password"})]}),s.jsxs(P,{className:"px-0",children:[s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),s.jsx(d,{id:"email",type:"email",value:a.email,onChange:e=>t("email",e.target.value),disabled:r,required:!0,autoFocus:!0,placeholder:"Enter your email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{htmlFor:"password",className:"text-sm font-medium",children:"New Password"}),s.jsx(d,{id:"password",type:"password",value:a.password,onChange:e=>t("password",e.target.value),disabled:r,required:!0,placeholder:"Enter your new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{htmlFor:"passwordConfirm",className:"text-sm font-medium",children:"Confirm New Password"}),s.jsx(d,{id:"passwordConfirm",type:"password",value:a.passwordConfirm,onChange:e=>t("passwordConfirm",e.target.value),disabled:r,required:!0,placeholder:"Confirm your new password"})]}),s.jsx(k,{type:"submit",variant:"default",className:"w-full",disabled:r,children:r?"Resetting...":"Reset password"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsx(E,{href:"/auth/login",className:"text-primary hover:underline font-medium",children:"Back to login"})})]})]})})]})}export{B as default};
